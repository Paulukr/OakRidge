package library.model.service;

import static org.junit.Assert.*;

import java.sql.SQLException;

import org.junit.Before;
import org.junit.BeforeClass;
import org.junit.Test;

import library.model.entity.Author;
import library.model.exceptions.AuthorDublicateException;

public class AuthorServiceTest {
	public AuthorService serv;
	@Before
	public void setUpBeforeClass() throws Exception {
		serv = AuthorService.getInstance();
	}

	@Test
	public void testGetInstance() {
		Author author = new Author("Man", 0);
		try {
			assertEquals(author.getName(), serv.getAuthorByID(1).getName());
		} catch (SQLException e) {
			fail(e.getMessage());
		}
	}

	@Test
	public void testTryAddAuthor() {
		Author author = new Author("Man", 0);

		try {
			serv.tryAddAuthor(author);
		} catch (SQLException | AuthorDublicateException e) {
			fail(e.getMessage());
		}
		assertEquals(true, null != serv.getAuthorByID(1);
	}

	@Test
	public void testAddAuthor() {
		fail("Not yet implemented");
	}

	@Test
	public void testFindOrAddAuthors() {

	}

	@Test
	public void testFindAuthorID() {
		Author author3 = new Author("Yan", 0);
		assertEquals(author.getName(), serv.getAuthorByID(1).getName());
	}

	@Test
	public void testGetAuthorByID() {
		fail("Not yet implemented");
	}

}
